"use strict";
var dom_1 = require('../c/dom');
var translator_1 = require('../translator');
var codegen = require('../x64/codegen-basic');
var unit = new dom_1.TranslationUnit();
var main = new dom_1.FunctionDefinition('main');
unit.add(main);
var a = new dom_1.Variable(dom_1.PrimitiveType.int(), 100, 'a');
main.body.push(new dom_1.Declaration(a));
var ifExpr = new dom_1.PrimaryExpressionVariable(a);
var ifSt = new dom_1.IfStatement(ifExpr);
var bExpr = new dom_1.SimpleAssignmentExpression(new dom_1.PrimaryExpressionVariable(a), new dom_1.PrimaryExpressionConstant(25));
ifSt.trueBlock.push(new dom_1.ExpressionStatement(bExpr));
main.body.push(ifSt);
console.log(unit.toString());
var domToTac = new translator_1.TranslatorDomToTacUnit();
var tac = domToTac.translate(unit);
console.log(tac.toString());
var generator = new codegen.BasicUnitCodegen(tac);
generator.translate();
generator.mc.compile();
console.log(generator.mc.toString());
